{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{e7lA:function(module,__webpack_exports__,__webpack_require__){\"use strict\";__webpack_require__.r(__webpack_exports__);var common=__webpack_require__(\"ofXK\"),router=__webpack_require__(\"tyNb\"),tslib_es6=__webpack_require__(\"mrSG\"),moment=__webpack_require__(\"wd/R\"),core=__webpack_require__(\"fXoL\"),util_service=__webpack_require__(\"2Rin\"),api_service=__webpack_require__(\"H+bZ\"),ngx_skeleton_loader=__webpack_require__(\"xJkR\");const _c0=function(){return{\"border-radius\":\"5px\",height:\"120px\",width:\"100%\"}};function StoresComponent_div_2_Template(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",4),core[\"ɵɵelement\"](1,\"ngx-skeleton-loader\",5),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"theme\",core[\"ɵɵpureFunction0\"](1,_c0)))}function StoresComponent_div_4_img_3_Template(rf,ctx){1&rf&&core[\"ɵɵelement\"](0,\"img\",18)}function StoresComponent_div_4_img_4_Template(rf,ctx){1&rf&&core[\"ɵɵelement\"](0,\"img\",19)}const _c1=function(a0){return{\"background-image\":a0}};function StoresComponent_div_4_Template(rf,ctx){if(1&rf){const _r1317=core[\"ɵɵgetCurrentView\"]();core[\"ɵɵelementStart\"](0,\"div\",6),core[\"ɵɵelementStart\"](1,\"div\",7),core[\"ɵɵelementStart\"](2,\"div\",8),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r1317);const item_r1313=ctx.$implicit;return core[\"ɵɵnextContext\"]().openStore(item_r1313)})),core[\"ɵɵtemplate\"](3,StoresComponent_div_4_img_3_Template,1,0,\"img\",9),core[\"ɵɵtemplate\"](4,StoresComponent_div_4_img_4_Template,1,0,\"img\",10),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](5,\"div\",11),core[\"ɵɵlistener\"](\"click\",(function(){core[\"ɵɵrestoreView\"](_r1317);const item_r1313=ctx.$implicit;return core[\"ɵɵnextContext\"]().openStore(item_r1313)})),core[\"ɵɵelementStart\"](6,\"p\",12),core[\"ɵɵtext\"](7),core[\"ɵɵpipe\"](8,\"slice\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](9,\"p\",13),core[\"ɵɵtext\"](10),core[\"ɵɵpipe\"](11,\"slice\"),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](12,\"p\",14),core[\"ɵɵtext\"](13),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](14,\"div\",15),core[\"ɵɵelementStart\"](15,\"div\",16),core[\"ɵɵelementStart\"](16,\"a\",17),core[\"ɵɵtext\"](17),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()}if(2&rf){const item_r1313=ctx.$implicit,ctx_r1311=core[\"ɵɵnextContext\"]();core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngStyle\",core[\"ɵɵpureFunction1\"](16,_c1,\"url(\"+ctx_r1311.api.mediaURL+item_r1313.cover+\"),url(assets/imgs/user.png)\")),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",item_r1313.isOpen&&\"1\"===item_r1313.isClosed),core[\"ɵɵadvance\"](1),core[\"ɵɵproperty\"](\"ngIf\",!item_r1313.isOpen||\"0\"===item_r1313.isClosed),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\" \",item_r1313.name.length>12?core[\"ɵɵpipeBind3\"](8,8,item_r1313.name,0,12)+\"..\":item_r1313.name,\"\"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate1\"](\" \",item_r1313.address.length>20?core[\"ɵɵpipeBind3\"](11,12,item_r1313.address,0,20)+\"..\":item_r1313.address,\" \"),core[\"ɵɵadvance\"](3),core[\"ɵɵtextInterpolate2\"](\" \",ctx_r1311.getTime(item_r1313.open_time),\" - \",ctx_r1311.getTime(item_r1313.close_time),\" \"),core[\"ɵɵadvance\"](4),core[\"ɵɵtextInterpolate1\"](\" \",ctx_r1311.util.translate(\"View\"),\" \")}}const routes=[{path:\"\",component:(()=>{class StoresComponent{constructor(util,api,router){this.util=util,this.api=api,this.router=router,this.stores=[],this.dummystores=[],this.dummystores=Array(30),this.getStore()}ngOnInit(){}getStore(){const param={id:localStorage.getItem(\"city\")};this.api.post(\"stores/getByCity\",param).then(stores=>{console.log(\"stores by city\",stores),this.stores=[],this.dummystores=[],stores&&200===stores.status&&stores.data&&stores.data.length&&(this.stores=stores.data,this.stores.forEach(element=>Object(tslib_es6.a)(this,void 0,void 0,(function*(){element.isOpen=yield this.isOpen(element.open_time,element.close_time)}))),console.log(\"store====>>>\",this.stores))},error=>{this.dummystores=[],console.log(error),this.util.toast(\"error\",this.util.translate(\"Error\"),this.util.translate(\"Something went wrong\"))})}isOpen(start,end){const ctime=moment().format(\"HH:mm:ss\"),time=moment(ctime,\"H:mm:ss\"),beforeTime=moment(start,\"H:mm:ss\"),afterTime=moment(end,\"H:mm:ss\");return!!time.isBetween(beforeTime,afterTime)}openStore(item){console.log(\"open store\",item);const name=item.name.replace(/[^a-zA-Z0-9]/g,\"-\").toLowerCase();this.router.navigate([\"shop\",item.uid,name])}getTime(time){return moment(time,[\"h:mm A\"]).format(\"hh:mm A\")}}return StoresComponent.ɵfac=function(t){return new(t||StoresComponent)(core[\"ɵɵdirectiveInject\"](util_service.a),core[\"ɵɵdirectiveInject\"](api_service.a),core[\"ɵɵdirectiveInject\"](router.f))},StoresComponent.ɵcmp=core[\"ɵɵdefineComponent\"]({type:StoresComponent,selectors:[[\"app-stores\"]],decls:5,vars:2,consts:[[1,\"container\"],[1,\"row\"],[\"class\",\"col-12 col-md-6\",4,\"ngFor\",\"ngForOf\"],[\"class\",\"content_div col-12 col-md-6\",4,\"ngFor\",\"ngForOf\"],[1,\"col-12\",\"col-md-6\"],[\"appearance\",\"circle\",3,\"theme\"],[1,\"content_div\",\"col-12\",\"col-md-6\"],[1,\"card_div\"],[1,\"image_div\",3,\"ngStyle\",\"click\"],[\"src\",\"assets/imgs/open.png\",\"class\",\"isOpen\",\"alt\",\"Veg\",4,\"ngIf\"],[\"src\",\"assets/imgs/close.png\",\"class\",\"isOpen\",\"alt\",\"Non Veg\",4,\"ngIf\"],[1,\"desc_div\",3,\"click\"],[1,\"pro_name\"],[1,\"pro_detail\"],[1,\"price_lbl\"],[1,\"small_flex\"],[1,\"btnBtm\"],[1,\"ion-activatable\",\"ripple-parent\"],[\"src\",\"assets/imgs/open.png\",\"alt\",\"Veg\",1,\"isOpen\"],[\"src\",\"assets/imgs/close.png\",\"alt\",\"Non Veg\",1,\"isOpen\"]],template:function(rf,ctx){1&rf&&(core[\"ɵɵelementStart\"](0,\"div\",0),core[\"ɵɵelementStart\"](1,\"div\",1),core[\"ɵɵtemplate\"](2,StoresComponent_div_2_Template,2,2,\"div\",2),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementStart\"](3,\"div\",1),core[\"ɵɵtemplate\"](4,StoresComponent_div_4_Template,18,18,\"div\",3),core[\"ɵɵelementEnd\"](),core[\"ɵɵelementEnd\"]()),2&rf&&(core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngForOf\",ctx.dummystores),core[\"ɵɵadvance\"](2),core[\"ɵɵproperty\"](\"ngForOf\",ctx.stores))},directives:[common.NgForOf,ngx_skeleton_loader.a,common.NgStyle,common.NgIf],pipes:[common.SlicePipe],styles:[\".content_div[_ngcontent-%COMP%]{padding:10px 0;width:100%}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:space-between;box-shadow:3px 4px 6px rgba(0,0,0,.5);position:relative;border:1px solid #d3d3d3;margin:10px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .offer_tag[_ngcontent-%COMP%]{width:35px;position:absolute;top:0;left:0;z-index:99}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .off_lbl[_ngcontent-%COMP%]{position:absolute;width:-webkit-min-content;width:-moz-min-content;width:min-content;font-size:9px;top:4px;left:8px;text-align:center;color:#fff;z-index:999}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .image_div[_ngcontent-%COMP%]{height:80px;width:80px;min-width:80px;background-position:50%;background-repeat:no-repeat;background-size:cover;position:relative;border-top-left-radius:5px;border-bottom-left-radius:5px;margin:5px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .image_div[_ngcontent-%COMP%]   .kind[_ngcontent-%COMP%]{height:15px;width:15px;position:absolute;right:5px;top:5px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .image_div[_ngcontent-%COMP%]   .isOpen[_ngcontent-%COMP%]{height:30px;width:30px;position:absolute;right:5px;top:5px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .image_div[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:100%;max-height:100%}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]{text-align:right;padding:10px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .pro_name[_ngcontent-%COMP%]{font-size:15px;margin-bottom:5px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .pro_detail[_ngcontent-%COMP%]{font-size:11px;color:grey;margin-bottom:5px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .price_lbl[_ngcontent-%COMP%]{font-weight:400;font-size:11px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .price_lbl[_ngcontent-%COMP%]   .original[_ngcontent-%COMP%]{text-decoration:line-through;font-size:11px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .price_lbl[_ngcontent-%COMP%]   .sell[_ngcontent-%COMP%]{font-weight:700}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .price_lbl[_ngcontent-%COMP%]   .dicount[_ngcontent-%COMP%]{font-weight:700;font-size:11px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .small_flex[_ngcontent-%COMP%]{display:flex;align-items:flex-end;justify-content:flex-end}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .small_flex[_ngcontent-%COMP%]   .btnBtm[_ngcontent-%COMP%]{display:flex;flex-direction:row-reverse;font-size:12px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .small_flex[_ngcontent-%COMP%]   .btnBtm[_ngcontent-%COMP%]   .ripple-parent[_ngcontent-%COMP%]{position:relative;overflow:hidden;padding:5px;color:#fff;background:#74e39a;border-radius:5px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .abs_add[_ngcontent-%COMP%]{width:100px;background:var(--ion-color-primary);height:30px;border-radius:15px;display:flex;justify-content:space-between;align-items:center;padding-left:3px;padding-right:3px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .abs_add[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{color:#fff;font-size:14px}.content_div[_ngcontent-%COMP%]   .card_div[_ngcontent-%COMP%]   .desc_div[_ngcontent-%COMP%]   .abs_add[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{color:#ff8e80;width:25px}\"]}),StoresComponent})()}];let stores_routing_module_StoresRoutingModule=(()=>{class StoresRoutingModule{}return StoresRoutingModule.ɵmod=core[\"ɵɵdefineNgModule\"]({type:StoresRoutingModule}),StoresRoutingModule.ɵinj=core[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||StoresRoutingModule)},imports:[[router.h.forChild(routes)],router.h]}),StoresRoutingModule})();__webpack_require__.d(__webpack_exports__,\"StoresModule\",(function(){return stores_module_StoresModule}));let stores_module_StoresModule=(()=>{class StoresModule{}return StoresModule.ɵmod=core[\"ɵɵdefineNgModule\"]({type:StoresModule}),StoresModule.ɵinj=core[\"ɵɵdefineInjector\"]({factory:function(t){return new(t||StoresModule)},imports:[[common.CommonModule,stores_routing_module_StoresRoutingModule,ngx_skeleton_loader.b]]}),StoresModule})()}}]);","extractedComments":[]}